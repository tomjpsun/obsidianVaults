
```json
{"service":1,"code":200,"msg":"walsin_peripheral.reader_device_state findSearch successfully.","data":[{"id":87,"app_id":"1f043694-e510-4513-ba7d-3351fed66401","device_ip":"192.168.19.31","device_port":"53437","device_mac":"00:0c:43:e1:76:2a","related_id":"5b7104df-279b-4cc3-a970-71417ca261da","name":"","antennas":null,"state":0,"link":null,"work":null,"driver":"","action_cmd":-1,"actual_state":-1,"temperature_pa":48,"temperature_rf":48,"temperature_sys":48,"connected":"2023-09-08 17:12:47.000","updated":"2023-09-08 17:12:47.000","received":"2023-09-08 17:12:47.000","rawdata":"{\"antenna\":1,\"command\":240,\"commandstring\":\"keepalivestring\",\"count\":0,\"count_rssi\":0,\"count_start\":1692695844,\"count_transfer\":1692695855,\"device_ip\":\"192.168.19.31\",\"device_mac\":\"00:0c:43:e1:76:2a\",\"epc\":\"000000000000000000000000\",\"max_rssi\":0,\"min_rssi\":0,\"offline_data\":false,\"operation\":0,\"output_mode\":1,\"rssi\":0,\"temperature_pa\":\"48\",\"temperature_rf\":\"48\",\"temperature_sys\":\"48\",\"tid\":\"0000000000\",\"timestamp\":1692695844,\"usr\":\"\",\"version\":10000}"},{"id":91,"app_id":"d489dff1-46ee-4a7a-a3c4-e528a4cf38eb","device_ip":"192.168.249.999","device_port":"55183","device_mac":"00:0c:43:e1:76:2a","related_id":"5b7104df-279b-4cc3-a970-71417ca261da","name":"","antennas":null,"state":0,"link":null,"work":null,"driver":"","action_cmd":-1,"actual_state":-1,"temperature_pa":48,"temperature_rf":48,"temperature_sys":48,"connected":"2023-09-08 17:31:18.000","updated":"2023-09-08 17:31:18.000","received":"2023-09-08 17:31:18.000","rawdata":"{\"antenna\":1,\"command\":240,\"commandstring\":\"keepalivestring\",\"count\":0,\"count_rssi\":0,\"count_start\":1692695844,\"count_transfer\":1692695855,\"device_ip\":\"192.168.249.999\",\"device_mac\":\"00:0c:43:e1:76:2a\",\"epc\":\"000000000000000000000000\",\"max_rssi\":0,\"min_rssi\":0,\"offline_data\":false,\"operation\":0,\"output_mode\":1,\"rssi\":0,\"temperature_pa\":\"48\",\"temperature_rf\":\"48\",\"temperature_sys\":\"48\",\"tid\":\"0000000000\",\"timestamp\":1692695844,\"usr\":\"\",\"version\":10000}"},{"id":93,"app_id":"2d0520e9-7188-422b-b0e5-c680806ff9db","device_ip":"::ffff:192.168.249.27","device_port":"56444","device_mac":"00:0c:43:e1:76:2a","related_id":"5b7104df-279b-4cc3-a970-71417ca261da","name":"","antennas":null,"state":0,"link":null,"work":null,"driver":"","action_cmd":-1,"actual_state":-1,"temperature_pa":48,"temperature_rf":48,"temperature_sys":48,"connected":"2023-09-08 17:36:45.000","updated":"2023-09-08 17:36:45.000","received":"2023-09-08 17:36:45.000","rawdata":"{\"antenna\":1,\"command\":240,\"commandstring\":\"keepalivestring\",\"count\":0,\"count_rssi\":0,\"count_start\":1692695844,\"count_transfer\":1692695855,\"device_ip\":\"\",\"device_mac\":\"00:0c:43:e1:76:2a\",\"epc\":\"000000000000000000000000\",\"max_rssi\":0,\"min_rssi\":0,\"offline_data\":false,\"operation\":0,\"output_mode\":1,\"rssi\":0,\"temperature_pa\":\"48\",\"temperature_rf\":\"48\",\"temperature_sys\":\"48\",\"tid\":\"0000000000\",\"timestamp\":1692695844,\"usr\":\"\",\"version\":10000}"},{"id":61,"app_id":"111111","device_ip":"device0022","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":1,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-09-08 07:57:57.000","received":"2023-09-06 19:14:36.015","rawdata":null},{"id":81,"app_id":"2","device_ip":"device003","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":1,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-09-08 08:39:50.000","received":"2023-09-06 19:14:36.015","rawdata":"rawdata test"},{"id":82,"app_id":"2","device_ip":"device005","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":null,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-09-08 08:39:50.000","received":"2023-09-06 19:14:36.015","rawdata":"rawdata test"},{"id":73,"app_id":"2","device_ip":"device015","device_port":"device005","device_mac":null,"related_id":null,"name":"device001","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":2,"actual_state":null,"temperature_pa":null,"temperature_rf":null,"temperature_sys":null,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-08 08:34:06.580","rawdata":null},{"id":74,"app_id":"3","device_ip":"device016","device_port":"device006","device_mac":null,"related_id":null,"name":"device002","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":3,"actual_state":null,"temperature_pa":null,"temperature_rf":null,"temperature_sys":null,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-08 08:34:06.580","rawdata":null},{"id":62,"app_id":"2222222","device_ip":"device029","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":null,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-06 19:14:36.015","rawdata":null},{"id":79,"app_id":"111111","device_ip":"Richard Test Code - Static Array 1","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":1,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-06 19:14:36.015","rawdata":null},{"id":80,"app_id":"2222222","device_ip":"Richard Test Code - Static Array 2","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":null,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-06 19:14:36.015","rawdata":null},{"id":67,"app_id":"111111","device_ip":"Richard@0022","device_port":null,"device_mac":null,"related_id":null,"name":"device005","antennas":null,"state":null,"link":null,"work":null,"driver":"device001","action_cmd":1,"actual_state":null,"temperature_pa":null,"temperature_rf":0,"temperature_sys":0,"connected":"2023-08-28 06:22:54.000","updated":"2023-08-26 06:22:54.000","received":"2023-09-06 19:14:36.015","rawdata":null}]}
```

```js

import React, { useState } from 'react';
import { Table, Button } from "@nextui-org/react";

const initialData = {
  // ... (你提供的 JSON 資料)
};

export default function DataTable() {
  const [data, setData] = useState(initialData.data);

  const readerCmd = async (device_ip) => {
    // 在這裡模擬非同步操作，你可能會根據你的 backend 進行調用。
    // 假設這裡非同步操作回傳新的 actual_state 值
    const newState = -2; // 這只是一個假定值

    // 更新資料中的 actual_state
    const updatedData = data.map(item => {
      if (item.device_ip === device_ip) {
        return {
          ...item,
          actual_state: newState
        };
      }
      return item;
    });

    setData(updatedData);
  };

  return (
    <div>
      <Table dynamic>
        <Table.Header>
          <Table.Column prop="device_ip" label="Device IP" />
          <Table.Column prop="actual_state" label="Actual State" />
          <Table.Column
            prop="action_cmd"
            label="Action Cmd"
            render={(value, row) => (
              <Button size="small" onClick={() => readerCmd(row.device_ip)}>
                Execute
              </Button>
            )}
          />
        </Table.Header>
        <Table.Body data={data} />
      </Table>
    </div>
  );
}
```

#### yich comment:

Table "walsin_peripheral"."reader_device_state" 
 "id" bigint [unique, pk, increment]
 "action_cmd" int    // action command: unknown = 0, inventorystart=1, inventorystop=2

更新指樣2個欄位就可以

#### Type Define

``` typescript
export type VirtualDevice = {
device_ip: string;
device_port: string;
id: number;
actual_state: number;
action_cmd: number;
};

```